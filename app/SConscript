import os
Import( 'env' )

Import( 'loudnessAnalyserLibStatic' )
Import( 'loudnessToolsLibStatic' )

env.Program(
	'loudness-analyser',
	Glob( 'analyser/*.cpp' ),
	LIBS = [
		loudnessAnalyserLibStatic,
		loudnessToolsLibStatic,
		"sndfile",
	]
)

env.Program(
	'loudness-corrector',
	Glob( 'corrector/*.cpp' ),
	LIBS = [
		loudnessAnalyserLibStatic,
		loudnessToolsLibStatic,
		"sndfile",
	]
)

qtEnv = env.Clone()
qtEnv.Tool('qt')

loudnessValidatorLibraries = [
	loudnessAnalyserLibStatic,
	loudnessToolsLibStatic,
	"sndfile",
]

loudnessValidatorFrameworks = []

QtLibs = [
	"QtCore",
	"QtGui",
]

if not env['PLATFORM'] == "darwin":
	loudnessValidatorLibraries.append( QtLibs )
else:
	loudnessValidatorFrameworks.append( QtLibs )

qtEnv.Program(
	'loudness-validator',
	Glob( 'LoudnessValidator/*.cpp' ),
	LIBS = loudnessValidatorLibraries,
	FRAMEWORKS = loudnessValidatorFrameworks,
)
