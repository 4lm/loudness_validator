
import os ;

local BOOST_ROOT_PATH = [ modules.peek : BOOST_ROOT ] ; 

project :
		requirements
		<include>include
		<include>src
		<include>tool/common
		<include>tool/io
		<include>$(BOOST_ROOT_PATH)
		<define>VERSION=$(VERSION)
		<define>USE_SSE2
	:
		usage-requirements
		<include>include
		<include>tool/io
	:
		build-dir $(BUILD_DIR)
	;

alias headers :
		include/loudnessLibrary.h
	;

lib loudnessLibrary :
		[ glob src/*.cpp ]
	;

lib soundFile :
		[ glob tool/io/*.cpp ]
	:
		<library>/project-config//libsndfile
	;

install loudnessLibrary-header :
		headers
	:
		<install-dependencies>off
		<variant>debug:<location>$(DIST_ROOT)/debug/include
		<variant>release:<location>$(DIST_ROOT)/release/include
	;

install loudnessLibrary-lib :
		loudnessLibrary/<link>shared
		loudnessLibrary/<link>static
	:
		<install-dependencies>off
		<install-type>LIB
		<variant>debug:<location>$(DIST_ROOT)/debug/lib
		<variant>release:<location>$(DIST_ROOT)/release/lib
	;

install loudnessLibrary-all :
		loudnessLibrary-header
		loudnessLibrary-lib
	;


explicit
		loudnessLibrary
		soundFile
		loudnessLibrary-header
		loudnessLibrary-lib
	;
